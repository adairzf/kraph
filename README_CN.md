# Kraph â€” ä¸ªäººçŸ¥è¯†å›¾è°±

**ä¸­æ–‡** | [English](./README.md)

> ä¸€æ¬¾æœ¬åœ°ä¼˜å…ˆçš„æ¡Œé¢åº”ç”¨ï¼Œç”±å¤§è¯­è¨€æ¨¡å‹é©±åŠ¨ï¼Œå°†ä½ çš„ç¬”è®°è½¬åŒ–ä¸ºæ´»è·ƒçš„çŸ¥è¯†å›¾è°±ã€‚

Kraph è‡ªåŠ¨ä»ä½ è¾“å…¥çš„æ–‡å­—ä¸­æå–äººç‰©ã€åœ°ç‚¹ã€äº‹ä»¶ã€æ—¶é—´ç­‰å®ä½“åŠå…¶å…³ç³»ï¼Œæ„å»ºæˆå¯è§†åŒ–çš„çŸ¥è¯†ç½‘ç»œï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€æ¢ç´¢ä¸é—®ç­”â€”â€”æ‰€æœ‰æ•°æ®è¿è¡Œåœ¨ä½ çš„è®¾å¤‡ä¸Šï¼Œå®Œå…¨ç§å¯†ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- **è‡ªåŠ¨å®ä½“æå–** â€” ç²˜è´´æˆ–è¾“å…¥ä»»æ„æ–‡å­—ï¼Œè‡ªåŠ¨è¯†åˆ«äººç‰©ã€åœ°ç‚¹ã€äº‹ä»¶ç­‰å®ä½“ï¼Œæ— éœ€æ‰‹åŠ¨æ ‡æ³¨
- **çŸ¥è¯†èåˆæ¨ç†** â€” æ–°å¢è®°å¿†æ—¶ï¼Œè‡ªåŠ¨ä¸å†å²è®°å½•å…³è”èåˆï¼Œ"æˆ‘äºŒå“¥"å’Œ"ææ˜"ä¼šè¢«è¯†åˆ«ä¸ºåŒä¸€äºº
- **äº¤äº’å¼çŸ¥è¯†å›¾è°±** â€” åŠ›å¯¼å‘å›¾è°±ï¼ŒèŠ‚ç‚¹å¯æ‹–æ‹½ã€å¯ç¼©æ”¾ï¼Œç‚¹å‡»ä»»æ„èŠ‚ç‚¹æŸ¥çœ‹å®Œæ•´æ¡£æ¡ˆä¸å…³è”è®°å¿†
- **å®ä½“æ¡£æ¡ˆ** â€” ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹å®Œæ•´æ¡£æ¡ˆï¼šå±æ€§ã€å…³ç³»ã€æ‰€æœ‰å…³è”è®°å¿†
- **è‡ªç„¶è¯­è¨€é—®ç­”** â€” ç›´æ¥é—®"Alice æ˜¯è°ï¼Ÿ"ï¼ŒAI ä»ä½ çš„è®°å¿†ä¸­ç²¾å‡†ä½œç­”
- **Markdown å­˜å‚¨** â€” æ¯æ¡è®°å¿†ä»¥ `.md` æ–‡ä»¶ä¿å­˜ï¼Œå¸¦ YAML frontmatterï¼Œæ°¸è¿œäººç±»å¯è¯»
- **è¯­éŸ³è¾“å…¥** â€” é›†æˆæœ¬åœ° Whisper è¯­éŸ³è¯†åˆ«ï¼Œè¯´è¯å³å¯å½•å…¥ï¼Œæ— éœ€ä»»ä½•äº‘ç«¯æœåŠ¡ï¼ˆmacOSï¼‰
- **ä¸­è‹±æ–‡åŒè¯­ç•Œé¢** â€” æ”¯æŒç®€ä½“ä¸­æ–‡ä¸ English å®æ—¶åˆ‡æ¢ï¼Œæ— éœ€é‡å¯
- **å¤š AI åç«¯** â€” æ”¯æŒæœ¬åœ° Ollamaã€DeepSeek API æˆ–ä»»æ„ OpenAI å…¼å®¹æ¥å£

---

## ğŸ–¥ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| æ¡Œé¢è¿è¡Œæ—¶ | [Tauri 2](https://tauri.app)ï¼ˆRust + WebViewï¼‰ |
| å‰ç«¯ | [Vue 3](https://vuejs.org) + TypeScript + [Vite](https://vitejs.dev) |
| UI ç»„ä»¶åº“ | [Element Plus](https://element-plus.org) |
| å›¾è¡¨ | [Apache ECharts](https://echarts.apache.org) via vue-echarts |
| çŠ¶æ€ç®¡ç† | [Pinia](https://pinia.vuejs.org) |
| å›½é™…åŒ– | [Vue I18n](https://vue-i18n.intlify.dev) |
| æ•°æ®åº“ | SQLiteï¼ˆvia [rusqlite](https://github.com/rusqlite/rusqlite)ï¼‰ |
| AIï¼ˆæœ¬åœ°ï¼‰ | [Ollama](https://ollama.com) |
| AIï¼ˆäº‘ç«¯ï¼‰ | DeepSeek API / OpenAI API |
| è¯­éŸ³è¯†åˆ« | [whisper.cpp](https://github.com/ggerganov/whisper.cpp) |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒå‡†å¤‡

- [Node.js](https://nodejs.org) â‰¥ 18 ä»¥åŠ [pnpm](https://pnpm.io)ï¼ˆæˆ– npmï¼‰
- [Rust å·¥å…·é“¾](https://rustup.rs)ï¼ˆstableï¼‰
- [Tauri CLI ä¾èµ–](https://tauri.app/start/prerequisites/)ï¼ˆæ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿï¼‰

AI åŠŸèƒ½è‡³å°‘éœ€è¦ä»¥ä¸‹**ä¸€ç§**ï¼š
- æœ¬åœ°å®‰è£… [Ollama](https://ollama.com)ï¼ˆæ¨èï¼Œå®Œå…¨ç§å¯†ï¼‰
- [DeepSeek](https://platform.deepseek.com) æˆ– [OpenAI](https://platform.openai.com) API Key

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/feng138168/kraph.git
cd kraph

# 2. å®‰è£…å‰ç«¯ä¾èµ–
pnpm install

# 3. å¼€å‘æ¨¡å¼è¿è¡Œ
pnpm tauri dev

# 4. æ„å»ºå‘å¸ƒåŒ…
pnpm tauri build
```

---

## âš™ï¸ AI åç«¯é…ç½®

é¦–æ¬¡å¯åŠ¨åï¼Œç‚¹å‡» **è®¾ç½®ï¼ˆâš™ï¸ï¼‰** æ ‡ç­¾é¡µé€‰æ‹© AI æä¾›å•†ï¼š

### æ–¹æ¡ˆ A â€” DeepSeek APIï¼ˆæ¨èï¼‰

æ€§ä»·æ¯”æœ€é«˜ï¼Œæ— æœ¬åœ°ç¡¬ä»¶è¦æ±‚ï¼Œä¸­æ–‡ç†è§£å‡ºè‰²ï¼ŒAPI ä»·æ ¼æä½ã€‚

1. å‰å¾€ [platform.deepseek.com](https://platform.deepseek.com) æ³¨å†Œå¹¶è·å– API Key
2. åœ¨è®¾ç½®ä¸­é€‰æ‹© **DeepSeek**ï¼Œç²˜è´´ Key å¹¶ä¿å­˜
3. æ¨èæ¨¡å‹ï¼š`deepseek-chat`

### æ–¹æ¡ˆ B â€” æœ¬åœ° Ollamaï¼ˆå®Œå…¨ç§å¯†ï¼‰

> âš ï¸ **ç¡¬ä»¶è¦æ±‚**ï¼šè¿è¡Œ qwen2.5:7b è‡³å°‘éœ€è¦ 16GB å†…å­˜å’Œè¾ƒæ–°çš„ GPU æˆ– Apple Siliconã€‚ä½é…è®¾å¤‡ä¸Šå®ä½“ç†è§£å¯èƒ½ä¸å®Œæ•´ã€‚

1. [å®‰è£… Ollama](https://ollama.com/download) æˆ–ä½¿ç”¨åº”ç”¨å†…ä¸€é”®å®‰è£…æŒ‰é’®
2. æ‹‰å–æ¨èæ¨¡å‹ï¼š
   ```bash
   ollama pull qwen2.5:7b
   ```
3. åœ¨è®¾ç½®ä¸­é€‰æ‹© **æœ¬åœ° Ollama** å¹¶ä¿å­˜

### æ–¹æ¡ˆ C â€” OpenAI å…¼å®¹æ¥å£

1. å¡«å†™ API Key å’Œ Base URLï¼ˆæ”¯æŒ Azure OpenAIã€æœ¬åœ°ä»£ç†ç­‰ï¼‰
2. åœ¨è®¾ç½®ä¸­é€‰æ‹© **OpenAI**ï¼Œå¡«å†™ä¿¡æ¯å¹¶ä¿å­˜

---

## ğŸ“ æ•°æ®å­˜å‚¨

æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°æ“ä½œç³»ç»Ÿçš„åº”ç”¨æ•°æ®ç›®å½•ï¼š

| å¹³å° | è·¯å¾„ |
|------|------|
| macOS | `~/Library/Application Support/me.kraph.app/` |
| Windows | `%APPDATA%\me.kraph.app\` |
| Linux | `~/.local/share/me.kraph.app/` |

ç›®å½•å†…å®¹ï¼š
- `database/kraph.db` â€” SQLite æ•°æ®åº“ï¼ˆå®ä½“ã€å…³ç³»ã€è®°å¿†ï¼‰
- `memories/YYYY/MM/` â€” æ¯æ¡è®°å¿†å¯¹åº”ä¸€ä¸ª Markdown æ–‡ä»¶ï¼ˆå« YAML frontmatterï¼‰
- `model_config.json` â€” å·²ä¿å­˜çš„æ¨¡å‹é…ç½®

Markdown æ–‡ä»¶æ˜¯çº¯æ–‡æœ¬æ ¼å¼ï¼Œå¯åœ¨ä»»æ„ç¼–è¾‘å™¨æ‰“å¼€ï¼Œä¹Ÿå¯ä»¥åŒæ­¥åˆ°ä½ çš„ç¬”è®°å·¥å…·ä¸­ã€‚

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
kraph/
â”œâ”€â”€ src/                        # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ components/             # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ InputPanel.vue      # è®°å¿†è¾“å…¥ + è¯­éŸ³å½•åˆ¶
â”‚   â”‚   â”œâ”€â”€ EditorPanel.vue     # è®°å¿†ç¼–è¾‘å™¨ï¼ˆMarkdownï¼‰
â”‚   â”‚   â”œâ”€â”€ GraphPanel.vue      # ECharts çŸ¥è¯†å›¾è°±
â”‚   â”‚   â”œâ”€â”€ MemoryList.vue      # ä¾§è¾¹æ è®°å¿†åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ SearchPanel.vue     # å®ä½“æœç´¢ + é—®ç­”
â”‚   â”‚   â”œâ”€â”€ CharacterCard.vue   # å®ä½“æ¡£æ¡ˆè§†å›¾
â”‚   â”‚   â”œâ”€â”€ ModelSettings.vue   # AI æä¾›å•†é…ç½®
â”‚   â”‚   â””â”€â”€ OllamaSetupDialog.vue  # ä¸€é”®å®‰è£… Ollama
â”‚   â”œâ”€â”€ stores/                 # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/                  # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/tauriApi.ts       # Tauri å‘½ä»¤ç»‘å®š
â”‚   â””â”€â”€ i18n/                   # è¯­è¨€åŒ…ï¼ˆen-US, zh-CNï¼‰
â””â”€â”€ src-tauri/                  # Rust åç«¯
    â””â”€â”€ src/
        â”œâ”€â”€ lib.rs              # Tauri å‘½ä»¤å¤„ç†å™¨
        â”œâ”€â”€ database.rs         # SQLite æ•°æ®å±‚
        â”œâ”€â”€ model_client.rs     # é€šç”¨ LLM å®¢æˆ·ç«¯ï¼ˆOllama / OpenAI å…¼å®¹ï¼‰
        â”œâ”€â”€ model_config.rs     # é…ç½®æŒä¹…åŒ–
        â”œâ”€â”€ ollama.rs           # Ollama é›†æˆ + æç¤ºè¯
        â”œâ”€â”€ ollama_installer.rs # è‡ªåŠ¨ä¸‹è½½ Ollama å®‰è£…åŒ…
        â”œâ”€â”€ file_manager.rs     # Markdown æ–‡ä»¶è¯»å†™
        â””â”€â”€ whisper.rs          # Whisper è¯­éŸ³è¯†åˆ«
```

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼é‡å¤§æ”¹åŠ¨è¯·å…ˆå¼€ Issue è®¨è®ºã€‚

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/my-feature`
3. æäº¤æ”¹åŠ¨ï¼š`git commit -m 'feat: add my feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/my-feature`
5. å‘èµ· Pull Request

---

## ğŸ“„ è®¸å¯è¯

[MIT](LICENSE)

---

## ğŸ™ è‡´è°¢

- [Ollama](https://ollama.com) â€” æœ¬åœ° LLM è¿è¡Œæ—¶
- [Tauri](https://tauri.app) â€” è·¨å¹³å°æ¡Œé¢æ¡†æ¶
- [Apache ECharts](https://echarts.apache.org) â€” å›¾è°±å¯è§†åŒ–
- [whisper.cpp](https://github.com/ggerganov/whisper.cpp) â€” è®¾å¤‡ç«¯è¯­éŸ³è¯†åˆ«
